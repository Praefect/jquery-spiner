/*! Spiner - v0.1.0 - 2013-07-23
* https://github.com/amazingSurge/jquery-spiner
* Copyright (c) 2013 joeylin; Licensed MIT */
(function(t){var s=t.spinner=function(e,i){this.element=e,this.$element=t(e),this.options=t.extend({},s.defaults,i),this.namespace=this.options.namespace,this.enable=!0,this.step=this.options.step,this.value=this.options.value,this.init()};s.prototype={constructor:s,init:function(){var s=this;this.$control=t('<div class="'+this.namespace+'-control"><span class="'+this.namespace+'-prev"></span><span class="'+this.namespace+'-next"></span></div>'),this.$prev=this.$control.find("."+this.namespace+"-prev"),this.$next=this.$control.find("."+this.namespace+"-next"),this.$element.wrap('<div class="'+this.options.skin+" "+this.namespace+'-wrap"></div>'),this.$parent=this.$element.parent(),this.$parent.addClass("."+this.namespace+"-enable"),this.$element.addClass("."+this.namespace),this.$control.appendTo(this.$parent),this.$prev.on("click",function(){return s.prev.call(s),!1}),this.$next.on("click",function(){return s.next.call(s),!1}),this.$element.on("keyup",function(){var t=s.$element.val();return s.value=parseInt(t),!1}),this.set(this.value)},isNumber:function(s){return"number"==typeof s&&t.isNumeric(s)?!0:!1},isOutOfBounds:function(t){return this.options.min>t?"min":t>this.options.max?"max":!1},set:function(t){this.enable!==!1&&(this.value=t,this.$element.val(t))},get:function(){return this.value},prev:function(){return this.isNumber(this.value)||(this.value=0),this.value=this.value-this.step,"min"===this.isOutOfBounds(this.value)&&(this.value=this.options.looping===!0?this.options.max:this.options.min),this.set(this.value),this},next:function(){return this.isNumber(this.value)||(this.value=0),this.value=this.value+this.step,"max"===this.isOutOfBounds(this.value)&&(this.value=this.options.looping===!0?this.options.min:this.options.max),this.set(this.value),this},enable:function(){return this.enable=!0,this.$parent.addClass("."+this.namespace+"-enabled"),this},disable:function(){return this.enable=!1,this.$parent.removeClass("."+this.namespace+"-enabled"),this},destroy:function(){this.$prev.off("click"),this.$next.off("click"),this.$element.off("keyup")}},s.defaults={namespace:"spinner",skin:"simple",value:0,min:0,max:10,step:1,looping:!0},t.fn.spinner=function(e){if("string"==typeof e){var i=e,n=arguments.length>1?Array.prototype.slice.call(arguments,1):void 0;return this.each(function(){var s=t.data(this,"spinner");"function"==typeof s[i]&&s[i].apply(s,n)})}return this.each(function(){t.data(this,"spinner")||t.data(this,"spinner",new s(this,e))})}})(jQuery);